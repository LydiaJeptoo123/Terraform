name: Terraform CI

on:
  push:
   branches: ["Main"]


jobs:
 terraform: 
  runs-on: ubuntu_latest

steps:
-name: Checkout
uses: actions/checkout@v3

-name: Set up Terraform
 uses: hashicorp/setup-terraform@v2

-name: Terraform Init
 uses: terraform init

-name: Terraform format check
 uses: terraform fmt -check

-name: Terraform Validate
 uses: terraform validate

-name: Security scan
 uses: aquasecurity/tfsec-action@v1.0.0

